(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[751],{2751:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ct}});var a=n(9439),r=n(3433),i=n(1413),l=n(2791),s=n(586),o=n(7888),c=n(7689),d=n(3388),u=n(8134),h=n(9076),f=n(1665),m=n(9168),p=n(184),Z=function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("h2",{style:{textAlign:"center"},children:"Dashboard Coming Soon..."})})},x=n(43),j=n(6002),g=n(7309),v=n(7615),y=n(6106),b=n(914),S=n(9389),C=n(7106),k=n(5671),I=n(3144),w=n(2022),_=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detail",value:function(e){return w.Z.get(this.baseURL+"/details",{params:e})}},{key:"list",value:function(e){return w.Z.get(this.baseURL+"/list",{params:e})}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"delete",value:function(e){return w.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();_.baseURL="setting";var R=n(6418),P=n(9687);function N(e){var t=e.height,n=void 0===t?400:t,a=e.menubar,r=void 0!==a&&a,i=e.plugins,s=e.toolbar,o=e.content_style,c=e.initialValue,d=e.onChange;i||(i=["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount forecolor backcolor textcolor","image paste table code"]),s||(s="undo redo | formatselect | bold italic backcolor | forecolor emoticons| table tabledelete | tableprops tablerowprops tablecellprops| alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | image link | imageupload | code | fullscreen"),o||(o="body { font-family:Helvetica,Arial,sans-serif; font-size:14px }");var u=(0,l.useRef)(null);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(P.M,{onInit:function(e,t){return u.current=t},initialValue:c,init:{height:n,menubar:r,plugins:i,toolbar:s,content_style:o,file_browser_callback_types:"image",file_picker_callback:function(e,t,n){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.onchange=function(){var t=this.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){e(n.result,{title:t.name})}},a.click()},deprecation_warnings:!1},onSelectionChange:function(){u.current&&d(u.current.getContent())}})})}var D=function(e){var t=e.data;e.handleChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsx)(y.Z,{gutter:[12,2],children:(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Data",required:!0,children:(0,p.jsx)(N,{initialValue:t.data,onChange:function(e){t.data=e}})})})})})})},B=function(e){var t=e.data;e.handleChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsx)(y.Z,{gutter:[12,2],children:(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Data",required:!0,children:(0,p.jsx)(N,{initialValue:t.data,onChange:function(e){t.data=e}})})})})})})},T=function(e){var t=e.data;e.handleChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsx)(y.Z,{gutter:[12,2],children:(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Data",required:!0,children:(0,p.jsx)(N,{initialValue:t.data,onChange:function(e){t.data=e}})})})})})})},U=function(e){var t,n,a,r=e.data,l=e.handleChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],style:{width:"100%",padding:"0 5px"},children:[(0,p.jsx)(b.Z,{span:6,children:(0,p.jsx)(v.Z.Item,{label:"Email",required:!0,children:(0,p.jsx)(S.Z,{type:"email",placeholder:"johndoe123@gmail.com",value:null===(t=r.data)||void 0===t?void 0:t.email,onChange:function(e){l({data:(0,i.Z)((0,i.Z)({},r.data),{},{email:e.target.value})})}})})}),(0,p.jsx)(b.Z,{span:6,children:(0,p.jsx)(v.Z.Item,{label:"Phone Number",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"995412XXX",value:null===(n=r.data)||void 0===n?void 0:n.number,onChange:function(e){l({data:(0,i.Z)((0,i.Z)({},r.data),{},{number:e.target.value})})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Address",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Street No: 9, Delhi: 110054",value:null===(a=r.data)||void 0===a?void 0:a.address,onChange:function(e){l({data:(0,i.Z)((0,i.Z)({},r.data),{},{address:e.target.value})})}})})})]})})})},L=function(e){var t=e.data;e.handleChange;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsx)(y.Z,{gutter:[12,2],children:(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Data",required:!0,children:(0,p.jsx)(N,{initialValue:t.data,onChange:function(e){t.data=e}})})})})})})},F=n(8406),A=n(1082),q=n(8302),E=n(7348),O=n(9998),z=n(2622),H=n(1752),Y=n(9286),M=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailService",value:function(e,t){return w.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"listService",value:function(e){return w.Z.get(this.baseURL+"/list",{params:e})}},{key:"saveService",value:function(e,t){return w.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"deleteService",value:function(e){return w.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();M.baseURL="service";var Q=n(4165),W=n(5861),J=n(5518),X=n(5963),K=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"get",value:function(e){return w.Z.get("../"+e)}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"/save",e,t)}},{key:"remove",value:function(e){return w.Z.post(this.baseURL+"/remove",e)}}]),e}();function V(e){var t=e.fileList,n=e.setFileList,a=e.count,i=void 0===a?1:a,l=e.cropImage,s=void 0===l?null:l,o=e.disabled,c=void 0!==o&&o,d=e.listType,u=void 0===d?"picture-card":d,h=function(){var e=(0,W.Z)((0,Q.Z)().mark((function e(a){var i,l,s,o,c,d;return(0,Q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.onSuccess,l=a.onError,s=a.file,o=a.onProgress,c=new FormData,d={onUploadProgress:function(e){o({percent:e.loaded/e.total*100})}},c.append("file",s);try{K.save(c,d).then((function(e){i("Ok"),n([].concat((0,r.Z)(t),[{uid:e.data.uid,url:e.data.url,name:e.data.name}]))}))}catch(u){l({err:u})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){e.file;var t=e.fl;typeof t!==typeof[]&&(t=[]),n(t)},m=function(e){K.remove({uid:e.uid}).then((function(e){}))};return s?(typeof s!==typeof{}&&(s={}),s.aspect=s.aspect||1,s.shape=s.shape||"rect",s.quality=s.quality||1,(0,p.jsx)(X.Z,{rotate:!0,aspect:!0,shape:s.shape,quality:s.quality,children:(0,p.jsx)(J.Z,{accept:"image/*",customRequest:h,onChange:f,onRemove:m,listType:u,fileList:t,className:"image-upload-grid",disabled:c,children:(null===t||void 0===t?void 0:t.length)>=i?null:(0,p.jsx)("div",{children:"Upload"})})})):(0,p.jsx)(J.Z,{accept:"image/*",customRequest:h,onChange:f,onRemove:m,listType:u,fileList:t,className:"image-upload-grid",disabled:c,children:(null===t||void 0===t?void 0:t.length)>=i?null:(0,p.jsx)("div",{children:"Upload"})})}K.baseURL="file";var G=n(2339),$=n(4099);function ee(e){var t=e.qData,n=e.setQData;return(0,p.jsx)(p.Fragment,{children:t.total>0?(0,p.jsx)($.Z,{total:t.total,showTotal:function(){var e=(t.page-1)*t.limit*1+1,n=t.page*t.limit;return(0,p.jsx)(G.Z,{children:"Showing "+e+" - "+n+" out of "+t.total})},pageSize:t.limit,current:t.page,onChange:function(e,a){t.limit!==a?n((0,i.Z)((0,i.Z)({},t),{},{page:1,limit:a})):n((0,i.Z)((0,i.Z)({},t),{},{page:e}))},showSizeChanger:!0}):null})}var te,ne,ae,re=n(7063);"superAdmin"===re.Z.userType||null===(te=re.Z.modules)||void 0===te||te.includes("add"),"superAdmin"===re.Z.userType||null===(ne=re.Z.modules)||void 0===ne||ne.includes("edit"),"superAdmin"===re.Z.userType||null===(ae=re.Z.modules)||void 0===ae||ae.includes("delete");function ie(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}var le=(0,l.forwardRef)((function(e,t){var n=e.list,r=(0,l.useState)(!1),s=(0,a.Z)(r,2),o=s[0],c=s[1],d=(0,l.useState)({aspect:1}),u=(0,a.Z)(d,2),h=u[0],f=u[1],m=(0,l.useState)(!1),Z=(0,a.Z)(m,2),j=Z[0],k=Z[1],I=(0,l.useState)([]),w=(0,a.Z)(I,2),_=w[0],P=w[1],N=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),f((0,i.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var D=function(){k(!0),M.saveService(h).then((function(e){(0,R.Br)(e.message),N((0,i.Z)({},e.data)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){k(!1)}))};return(0,l.useEffect)((function(){h._id&&(k(!0),M.detailService(h._id).then((function(e){var t,n;f(e.data||{}),P(null!==(t=e.data)&&void 0!==t&&t.file?[null===(n=e.data)||void 0===n?void 0:n.file]:[])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){k(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?P([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){N({file:null===_||void 0===_?void 0:_[0]})}),[_]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(h._id?"Edit":"Add")+" Services",style:{top:20},open:o,okText:"Save",onOk:D,okButtonProps:{disabled:j},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:500,footer:[(0,p.jsx)(g.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:D,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:j,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsxs)(b.Z,{span:24,children:[(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"name",value:h.name,onChange:function(e){N({name:e.target.value})}})}),(0,p.jsx)(v.Z.Item,{label:"Per Hour Rate",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Per Hour Rate",type:"number",value:h.per_hr_rate,onChange:function(e){N({per_hr_rate:e.target.value})}})})]}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Icon",children:(0,p.jsx)(V,{fileList:_,setFileList:P,count:1,listType:"picture"})})})]})})})})})})),se=n(458),oe=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailWorker",value:function(e,t){return w.Z.get(this.baseURL+"/details-worker/"+e,{params:t})}},{key:"listWorker",value:function(e){return w.Z.get(this.baseURL+"/list-worker",{params:e})}},{key:"saveWorker",value:function(e,t){return w.Z.post(this.baseURL+"/save-worker",e,{params:t})}},{key:"deleteWorker",value:function(e){return w.Z.post(this.baseURL+"/delete-worker",{ids:e})}}]),e}();oe.baseURL="worker";var ce=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"listWorkHistory",value:function(e){return w.Z.get(this.baseURL+"/list",{params:e})}}]),e}();ce.baseURL="workhistory";var de=n(2426),ue=n.n(de);function he(e){var t=e.workerId,n=void 0===t?null:t,r=(0,l.useState)([]),s=(0,a.Z)(r,2),o=s[0],c=s[1],d=(0,l.useState)(!1),u=(0,a.Z)(d,2),h=u[0],f=u[1],m=(0,l.useState)([]),Z=(0,a.Z)(m,2),x=Z[0],j=Z[1],g=(0,l.useState)({page:1,limit:20,workerId:n}),v=(0,a.Z)(g,2),y=v[0],b=v[1],S=(0,l.useRef)();function C(){f(!0),ce.listWorkHistory(y).then((function(e){var t;c(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){f(!1)}))}var k=[{title:"Costumer Name",dataIndex:"userServiceDetail",render:function(e){return null===e||void 0===e?void 0:e.receiverName}},{title:"Phone",dataIndex:"userServiceDetail",width:100,render:function(e){return null===e||void 0===e?void 0:e.phone}},{title:"Login time",dataIndex:"login_time",width:170,render:function(e){return(0,p.jsx)("span",{children:ue()(e).format("DD MMM YYYY, h:mm a")})}},{title:"Logout time",dataIndex:"logout_time",width:170,render:function(e){return(0,p.jsx)("span",{children:ue()(e).format("DD MMM YYYY, h:mm a")})}},{title:"Duration",dataIndex:"duration",width:100,render:function(e){return(0,p.jsxs)("b",{children:[e," min"]})}},{title:"Status",dataIndex:"userServiceDetail",width:100,render:function(e){return(0,p.jsx)(G.Z,{color:"blue",children:null===e||void 0===e?void 0:e.status})}}].filter((function(e){return!e.hidden})).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));k[0].fixed=!0,k[k.length-1].fixed="right";var I={bordered:!0,loading:h,size:"small",title:function(){return(0,p.jsx)(fe,{addNewModalRef:S,selected:x,qData:y,setQData:b,list:C})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){j(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){C()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Worker History"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},I),{},{pagination:{position:["none"],pageSize:y.limit},columns:k,dataSource:o.length?o:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}}))]})}function fe(e){var t=e.qData,n=e.setQData,a=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:a,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:t.key,onChange:function(e){return n((0,i.Z)((0,i.Z)({},t),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsx)(b.Z,{span:5})]})})}var me=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detail",value:function(e,t){return w.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"list",value:function(e){return w.Z.get(this.baseURL+"/list",{params:e})}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"/save",e,{params:t})}}]),e}();function pe(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:6,children:(0,p.jsx)(se.Z,{placeholder:"Please select...",allowClear:!0,onChange:function(e){return t=e,r[n="status"]=t,void(void 0===t&&(r[n]="",s()));var t,n},style:{width:"100%"},options:[{value:!0,label:"Registerd"},{value:!1,label:"Not Registerd"}]})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}me.baseURL="account";var Ze=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.service,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({aspect:1}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=(0,l.useState)([]),_=(0,a.Z)(w,2),P=_[0],N=_[1],D=(0,l.useState)([]),B=(0,a.Z)(D,2),T=B[0],U=B[1],L=(0,l.useState)([]),F=(0,a.Z)(L,2),A=F[0],q=F[1],E=function(e){Object.entries(e).forEach((function(e){for(var t=f,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),m((0,i.Z)({},f))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),m(e?{_id:e}:{status:!0})}}}));var z=function(){I(!0),oe.saveWorker(f).then((function(e){(0,R.Br)(e.message),E((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),oe.detailWorker(f._id).then((function(e){var t,n,a,r,i,l;m(e.data||{}),N(null!==(t=e.data)&&void 0!==t&&t.avatar?[null===(n=e.data)||void 0===n?void 0:n.avatar]:[]),U(null!==(a=e.data)&&void 0!==a&&a.aadharImage?[null===(r=e.data)||void 0===r?void 0:r.aadharImage]:[]),q(null!==(i=e.data)&&void 0!==i&&i.nocImage?[null===(l=e.data)||void 0===l?void 0:l.nocImage]:[])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c?N([]):m({_id:null})}),[c]),(0,l.useEffect)((function(){E({avatar:null===P||void 0===P?void 0:P[0]}),E({aadharImage:null===T||void 0===T?void 0:T[0]}),E({nocImage:null===A||void 0===A?void 0:A[0]})}),[P,T,A]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" Worker",style:{top:20},open:c,okText:"Save",onOk:z,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:800,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:z,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:20,children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Username",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"John Doe",value:f.userName,onChange:function(e){E({userName:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Phone",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Phone",value:f.phone,onChange:function(e){E({phone:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Service",required:!0,children:(0,p.jsx)(se.Z,{mode:"multiple",value:f.serviceIds,placeholder:"Please select...",onChange:function(e){E({serviceIds:e})},style:{width:"100%"},options:r.map((function(e){return{value:e._id,label:e.name}}))})})})]})}),(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{label:"Avatar",children:(0,p.jsx)(V,{fileList:P,setFileList:N,count:1})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Present Address",children:(0,p.jsx)(S.Z.TextArea,{placeholder:"Present Address",value:f.presentAddress,onChange:function(e){E({presentAddress:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Permanent Address",children:(0,p.jsx)(S.Z.TextArea,{placeholder:"Permanent Address",value:f.permanentAddress,onChange:function(e){E({permanentAddress:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:6,children:(0,p.jsx)(v.Z.Item,{label:"Aadhar Image",children:(0,p.jsx)(V,{fileList:T,setFileList:U,count:1})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"NOC Image",children:(0,p.jsx)(V,{fileList:A,setFileList:q,count:1})})}),(0,p.jsx)(b.Z,{span:10,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){E({status:e})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Per Hour Rate",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Per Hour Rate",value:f.per_hr_rate,onChange:function(e){E({per_hr_rate:e.target.value})}})})})]})})})})})})),xe=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h(e?(0,i.Z)({},e):{status:!0})}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(0,p.jsxs)(p.Fragment,{children:["All Works of ",(0,p.jsx)(q.Z.Text,{type:"danger",children:null===u||void 0===u?void 0:u.userName})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1600,className:"app-modal-body-overflow",footer:[(0,p.jsx)(g.ZP,{onClick:function(){o(!1)},children:"Cancel"},"cancel")],children:(0,p.jsx)(he,{workerId:u._id})})})})),je=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({}),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)({}),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)(!1),C=(0,a.Z)(j,2),k=(C[0],C[1]);(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),x(e?(0,i.Z)({},e):{status:!0})}}}));var I=function(e){Object.entries(e).forEach((function(e){for(var t=u,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),h((0,i.Z)({},u))};return(0,l.useEffect)((function(){null!==Z&&void 0!==Z&&Z._id&&(k(!0),me.detail(Z._id).then((function(e){h(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){k(!1)})))}),[Z._id]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(0,p.jsxs)(p.Fragment,{children:["Bank Account Details of:  ",(0,p.jsx)(q.Z.Text,{type:"danger",children:null===Z||void 0===Z?void 0:Z.userName})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:700,className:"app-modal-body-overflow",footer:[(0,p.jsx)(g.ZP,{onClick:function(){o(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:function(){k(!0),me.save(u).then((function(e){(0,R.Br)(e.message),I((0,i.Z)({},e.data)),o(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){k(!1)}))},children:"Save"},"save")],children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(y.Z,{gutter:[12,2],children:(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Bank Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Bank Of India",value:u.bankName,onChange:function(e){I({bankName:e.target.value})}})})})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Holder Name",children:(0,p.jsx)(S.Z,{placeholder:"John Doe",value:u.holderName,onChange:function(e){I({holderName:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Account Number",children:(0,p.jsx)(S.Z,{placeholder:"BOI1100XXX0564X",value:u.accountNumber,onChange:function(e){I({accountNumber:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"IFSC code",children:(0,p.jsx)(S.Z,{placeholder:"Permanent Address",value:u.IFSC,onChange:function(e){I({IFSC:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Account Type",required:!0,children:(0,p.jsxs)(se.Z,{value:u.accountType,onChange:function(e){I({accountType:e})},children:[(0,p.jsx)(se.Z.Option,{value:"saving",children:"Saving"}),(0,p.jsx)(se.Z.Option,{value:"current",children:"Current"})]})})})]})})})})})),ge=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailUser",value:function(e,t){return w.Z.get(this.baseURL+"/details-user/"+e,{params:t})}},{key:"listUser",value:function(e){return w.Z.get(this.baseURL+"/list-user",{params:e})}},{key:"saveUser",value:function(e,t){return w.Z.post(this.baseURL+"/save-user",e,{params:t})}},{key:"deleteUser",value:function(e){return w.Z.post(this.baseURL+"/delete-user",{ids:e})}}]),e}();ge.baseURL="user";var ve=n(151),ye=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailJob",value:function(e,t){return w.Z.get(this.baseURL+"/address/details"+e,{params:t})}},{key:"listJob",value:function(e){return w.Z.get(this.baseURL+"/address/list",{params:e})}},{key:"saveJob",value:function(e,t){return w.Z.post(this.baseURL+"/address/save",e,{params:t})}},{key:"deleteJob",value:function(e){return w.Z.post(this.baseURL+"/address/delete",{ids:e})}}]),e}();function be(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Lable",dataIndex:"lable",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:" Detail"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),ye.listJob(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){ye.deleteJob(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(Se,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Ce,{ref:S,list:I,parentId:t})]})}function Se(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected datas?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}ye.baseURL="user";var Ce=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),console.log("dt",e),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),ye.saveJob(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),ye.detailsjob(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})}));function ke(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{children:(0,p.jsxs)(se.Z,{value:r.status,allowClear:!0,placeholder:"Search By Status",onChange:function(e){l((0,i.Z)((0,i.Z)({},r),{},{status:e}))},children:[(0,p.jsx)(se.Z.Option,{value:"active",children:"Active"}),(0,p.jsx)(se.Z.Option,{value:"inactive",children:"Inactive"}),(0,p.jsx)(se.Z.Option,{value:"blocked",children:"Blocked"})]})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}var Ie=(0,l.forwardRef)((function(e,t){var n=e.list,r=(0,l.useState)(!1),s=(0,a.Z)(r,2),o=s[0],c=s[1],d=(0,l.useState)({aspect:1}),u=(0,a.Z)(d,2),h=u[0],f=u[1],m=(0,l.useState)(!1),Z=(0,a.Z)(m,2),j=Z[0],k=Z[1],I=(0,l.useState)([]),w=(0,a.Z)(I,2),_=w[0],P=w[1],N=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),f((0,i.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var D=function(){k(!0),ge.saveUser(h).then((function(e){(0,R.Br)(e.message),N((0,i.Z)({},e.data)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){k(!1)}))};return(0,l.useEffect)((function(){h._id&&(k(!0),ge.detailUser(h._id).then((function(e){var t,n;f(e.data||{}),P(null!==(t=e.data)&&void 0!==t&&t.avatar?[null===(n=e.data)||void 0===n?void 0:n.avatar]:[])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){k(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?P([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){N({avatar:null===_||void 0===_?void 0:_[0]})}),[_]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(h._id?"Edit":"Add")+" User",style:{top:20},open:o,okText:"Save",onOk:D,okButtonProps:{disabled:j},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:800,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:D,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:j,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:20,children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Username",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"John Doe",value:h.name,onChange:function(e){N({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Email",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Email",value:h.email,onChange:function(e){N({email:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsx)(v.Z.Item,{label:"Phone",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Phone",value:h.phone,onChange:function(e){N({phone:e.target.value})}})})})]})}),(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{label:"Avatar",children:(0,p.jsx)(V,{fileList:_,setFileList:P,count:1})})}),(0,p.jsx)(b.Z,{span:10,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:h.status,onChange:function(e){N({status:e})},children:[(0,p.jsx)(se.Z.Option,{value:"active",children:"Active"}),(0,p.jsx)(se.Z.Option,{value:"inactive",children:"Inactive"}),(0,p.jsx)(se.Z.Option,{value:"blocked",children:"Blocked"})]})})})]})})})})})})),we=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h(e?(0,i.Z)({},e):{status:!0})}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(0,p.jsxs)(p.Fragment,{children:["All Job List of ",(0,p.jsx)(q.Z.Text,{type:"danger",children:null===u||void 0===u?void 0:u.name})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1600,className:"app-modal-body-overflow",footer:[(0,p.jsx)(g.ZP,{onClick:function(){o(!1)},children:"Cancel"},"cancel")],children:(0,p.jsx)(be,{userId:u._id})})})})),_e=n(9805),Re=n.n(_e),Pe=n(4991),Ne=n(7128),De=n(4422),Be=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"list",value:function(e){return w.Z.get(this.baseURL+"/list",{params:e})}},{key:"detail",value:function(e,t){return w.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"/save",e,t)}},{key:"approve",value:function(e,t){return w.Z.post(this.baseURL+"/approve/"+e,t)}}]),e}();Be.baseURL="leave";function Te(e){var t=e.addNewModalRef,n=e.selected,r=e.deleteData,i=e.qData,s=(e.setQData,e.list),o=e.workers,c=(0,l.useState)([]),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=function(e,t){i[t]=e,void 0===e&&(i[t]="",s())};return(0,l.useEffect)((function(){var e=null===o||void 0===o?void 0:o.map((function(e){return{label:e.userName?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{style:{padding:"0px",margin:"0px"},children:e.userName}),(0,p.jsx)("p",{style:{fontSize:"12px",margin:"0px"},children:(0,p.jsxs)(q.Z.Text,{type:"danger",children:["@",e.phone]})})]}):e.phone,value:e.userName?e.userName:e.phone,searchKey:e.userName+e.phone}}));h(e)}),[o]),(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(se.Z,{showSearch:!0,allowClear:!0,placeholder:"Select by username / phone",optionFilterProp:"children",onChange:function(e){return f(e,"userName")},filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.searchKey)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:u})})}),(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(se.Z,{placeholder:"Select Type...",onChange:function(e){return f(e,"status")},allowClear:!0,options:[{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"},{value:"Requested",label:"Requested"}]})})}),(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(Pe.Z.RangePicker,{style:{width:"100%"},onChange:function(e){return f(e,"DateKey")},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){r(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}var Ue=(0,l.forwardRef)((function(e,t){var n=e.list,r=(0,l.useState)(!1),s=(0,a.Z)(r,2),o=s[0],c=s[1],d=(0,l.useState)({aspect:1}),u=(0,a.Z)(d,2),h=u[0],f=u[1],m=(0,l.useState)(!1),Z=(0,a.Z)(m,2),j=Z[0],S=Z[1],k=(0,l.useState)([]),I=(0,a.Z)(k,2),w=I[0],_=I[1],P=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),f((0,i.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var N=function(){S(!0),Be.approve(h._id,h).then((function(e){(0,R.Br)(e.message),P((0,i.Z)({},e.data)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){S(!1)}))};return(0,l.useEffect)((function(){h._id&&(S(!0),Be.detail(h._id).then((function(e){var t,n;f(e.data||{}),_(null!==(t=e.data)&&void 0!==t&&t.file?[null===(n=e.data)||void 0===n?void 0:n.file]:[])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){S(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?_([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){P({file:null===w||void 0===w?void 0:w[0]})}),[w]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(h._id?"Edit":"Add")+" Leave",style:{top:20},open:o,okText:"Save",onOk:N,okButtonProps:{disabled:j},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:500,footer:[(0,p.jsx)(g.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:N,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:j,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsxs)(b.Z,{span:6,children:[(0,p.jsx)(Ne.Z,{orientation:"left",children:"Leave Application Status"}),(0,p.jsxs)(De.ZP.Group,{onChange:function(e){return P({status:e.target.value})},value:h.status,style:{display:"flex",gap:"20px",alignItems:"center"},children:[(0,p.jsx)(De.ZP,{value:"Approved",children:"Approved"}),(0,p.jsx)(De.ZP,{value:"Requested",children:"Requested"}),(0,p.jsx)(De.ZP,{value:"Rejected",children:"Rejected"})]})]}),(0,p.jsxs)(b.Z,{span:24,children:[(0,p.jsx)(Ne.Z,{orientation:"left",children:"Leave Date"}),(0,p.jsx)(Pe.Z.RangePicker,{style:{width:"100%"},value:[ue()(h.startDate),ue()(h.endDate)],onChange:function(e){return P({startDate:new Date(e[0]),endDate:new Date(e[1])})},allowClear:!0})]})]})})})})})})),Le=n(4942),Fe=n(1306),Ae=n(2176),qe=n(9660),Ee=n.n(qe),Oe=n(7207);var ze=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailUser",value:function(e,t){return w.Z.get(this.baseURL+"/lab-instrument/details/"+e,{params:t})}},{key:"listUser",value:function(e){return w.Z.get(this.baseURL+"/lab-instrument/list",{params:e})}},{key:"saveUser",value:function(e,t){return w.Z.post(this.baseURL+"/lab-instrument/save",e,{params:t})}},{key:"deleteUser",value:function(e){return w.Z.post(this.baseURL+"/lab-instrument/delete",{ids:e})}}]),e}();function He(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Button",dataIndex:"button",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:"Active"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Unique Id",dataIndex:"uniqueId",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),ze.listUser(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){ze.deleteUser(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(Ye,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Me,{ref:S,list:I,parentId:t}),(0,p.jsx)(Qe,{ref:C,list:I})]})}function Ye(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected data?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}ze.baseURL="master";var Me=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({aspect:1}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),ze.saveUser(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),ze.detailUser(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),Qe=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({aspect:1}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h((0,i.Z)({},e))}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(u._id?"Edit":"Add")+" User",style:{top:20},open:s,okText:"Save",onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body",children:(0,p.jsx)(He,{parentId:u._id})})})})),We=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailUser",value:function(e,t){return w.Z.get(this.baseURL+"/gas/details/"+e,{params:t})}},{key:"listUser",value:function(e){return w.Z.get(this.baseURL+"/gas/list",{params:e})}},{key:"saveUser",value:function(e,t){return w.Z.post(this.baseURL+"/gas/save",e,{params:t})}},{key:"deleteUser",value:function(e){return w.Z.post(this.baseURL+"/gas/delete",{ids:e})}}]),e}();function Je(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Button",dataIndex:"button",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:"Active"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Unique Id",dataIndex:"uniqueId",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),We.listUser(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){We.deleteUser(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(Xe,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Ke,{ref:S,list:I,parentId:t}),(0,p.jsx)(Ve,{ref:C,list:I})]})}function Xe(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected data ?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}We.baseURL="master";var Ke=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({aspect:1}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),We.saveUser(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),We.detailUser(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),Ve=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({aspect:1}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h((0,i.Z)({},e))}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(u._id?"Edit":"Add")+" User",style:{top:20},open:s,okText:"Save",onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body",children:(0,p.jsx)(Je,{parentId:u._id})})})})),Ge=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"detailUser",value:function(e,t){return w.Z.get(this.baseURL+"/labware/details/"+e,{params:t})}},{key:"listUser",value:function(e){return w.Z.get(this.baseURL+"/labware/list",{params:e})}},{key:"saveUser",value:function(e,t){return w.Z.post(this.baseURL+"/labware/save",e,{params:t})}},{key:"deleteUser",value:function(e){return w.Z.post(this.baseURL+"/labware/delete",{ids:e})}}]),e}();function $e(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Button",dataIndex:"button",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:"Active"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Unique Id",dataIndex:"uniqueId",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),Ge.listUser(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){Ge.deleteUser(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(et,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(tt,{ref:S,list:I,parentId:t}),(0,p.jsx)(nt,{ref:C,list:I})]})}function et(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected data ?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}Ge.baseURL="master";var tt=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({aspect:1}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),Ge.saveUser(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),Ge.detailUser(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),nt=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({aspect:1}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h((0,i.Z)({},e))}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(u._id?"Edit":"Add")+" User",style:{top:20},open:s,okText:"Save",onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body",children:(0,p.jsx)($e,{parentId:u._id})})})})),at=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"list",value:function(e){return w.Z.get(this.baseURL+"brand/list")}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"brand/save",e,{params:t})}},{key:"delete",value:function(e){return w.Z.post(this.baseURL+"brand/delete",{ids:e})}},{key:"details",value:function(e){return w.Z.get(this.baseURL+"brand/details/"+e)}}]),e}();function rt(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}at.baseURL="master/";var it=(0,l.forwardRef)((function(e,t){var n=e.list,r=(0,l.useState)(!1),s=(0,a.Z)(r,2),o=s[0],c=s[1],d=(0,l.useState)({aspect:1}),u=(0,a.Z)(d,2),h=u[0],f=u[1],m=(0,l.useState)(!1),Z=(0,a.Z)(m,2),j=Z[0],k=Z[1],I=(0,l.useState)([]),w=(0,a.Z)(I,2),_=(w[0],w[1]),P=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),f((0,i.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var N=function(){k(!0),at.save(h).then((function(e){(0,R.Br)(e.message),P((0,i.Z)({},e.data)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){k(!1)}))};return(0,l.useEffect)((function(){h._id&&(k(!0),at.details(h._id).then((function(e){var t,n;f(e.data||{}),_(null!==(t=e.data)&&void 0!==t&&t.avatar?[null===(n=e.data)||void 0===n?void 0:n.avatar]:[])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){k(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?_([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){console.log("data",h)}),[h]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(h._id?"Edit":"Add")+" User",style:{top:20},open:o,okText:"Save",onOk:N,okButtonProps:{disabled:j},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:N,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:j,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:h.name,onChange:function(e){P({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:h.slug,onChange:function(e){P({slug:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:h.status,onChange:function(e){P({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),lt=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"list",value:function(e){return w.Z.get(this.baseURL+"chemical/list",{params:e})}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"chemical/save",e,{params:t})}},{key:"delete",value:function(e){return w.Z.post(this.baseURL+"chemical/delete",{ids:e})}},{key:"details",value:function(e){return w.Z.get(this.baseURL+"chemical/details/"+e)}}]),e}();function st(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Lable",dataIndex:"lable",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:" Detail"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),lt.list(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){lt.delete(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(ot,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(ct,{ref:S,list:I,parentId:t}),(0,p.jsx)(dt,{ref:C})]})}function ot(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected datas?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}lt.baseURL="master/";var ct=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),console.log("dt",e),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),lt.save(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),lt.details(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),dt=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h((0,i.Z)({},e))}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(0,p.jsxs)(p.Fragment,{children:["Data of \xa0",(0,p.jsx)("span",{style:{color:"red"},children:u.name})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body",footer:null,children:(0,p.jsx)(st,{parentId:u._id})})})})),ut=function(){function e(){(0,k.Z)(this,e)}return(0,I.Z)(e,null,[{key:"list",value:function(e){return w.Z.get(this.baseURL+"life-science/list",{params:e})}},{key:"save",value:function(e,t){return w.Z.post(this.baseURL+"life-science/save",e,{params:t})}},{key:"delete",value:function(e){return w.Z.post(this.baseURL+"life-science/delete",{ids:e})}},{key:"details",value:function(e){return w.Z.get(this.baseURL+"life-science/details/"+e)}}]),e}();function ht(e){var t=e.parentId,n=(0,l.useState)([]),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],f=(0,l.useState)([]),m=(0,a.Z)(f,2),Z=m[0],x=m[1],j=(0,l.useState)({page:1,limit:20,fileType:"photo",parentId:t}),v=(0,a.Z)(j,2),y=v[0],b=v[1],S=(0,l.useRef)(),C=(0,l.useRef)(),k=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Lable",dataIndex:"lable",width:100,render:function(e,t){return(0,p.jsx)(g.ZP,{onClick:function(){C.current.openForm(t)},children:" Detail"})}},{title:"Slug",dataIndex:"slug",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this data?",onConfirm:function(){w(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){S.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){h(!0),ut.list(y).then((function(e){var t;o(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),b((0,i.Z)((0,i.Z)({},y),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){h(!1)}))}var w=function(e){ut.delete(e).then((function(e){(0,R.Br)(e.message),I(),x([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},_=k.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));_[0].fixed=!0,_[_.length-1].fixed="right";var P={bordered:!0,loading:u,size:"small",title:function(){return(0,p.jsx)(ft,{addNewModalRef:S,selected:Z,deleteData:w,qData:y,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:y,setQData:b})},rowSelection:{onChange:function(e){x(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[y.page,y.limit]),(0,p.jsxs)(p.Fragment,{children:[t?null:(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},P),{},{pagination:{position:["none"],pageSize:y.limit},columns:_,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(mt,{ref:S,list:I,parentId:t}),(0,p.jsx)(pt,{ref:C})]})}function ft(e){var t=e.addNewModalRef,n=e.selected,a=e.deleteData,r=e.qData,l=e.setQData,s=e.list;return(0,p.jsx)(v.Z,{onSubmitCapture:s,className:"search-form",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:4,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(S.Z,{placeholder:"Search by name or code",value:r.key,onChange:function(e){return l((0,i.Z)((0,i.Z)({},r),{},{key:e.target.value}))},allowClear:!0})})}),(0,p.jsx)(b.Z,{span:3,children:(0,p.jsx)(v.Z.Item,{style:{marginBottom:0},children:(0,p.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,p.jsxs)(b.Z,{span:5,children:[(0,p.jsx)(v.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,p.jsx)(g.ZP,{type:"primary",icon:(0,p.jsx)(Y.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,p.jsx)(A.Z,{title:"Are you sure to delete these selected datas?",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No",children:(0,p.jsx)(g.ZP,{type:"primary",danger:!0,style:{float:"right"},icon:(0,p.jsx)(z.Z,{}),children:"Delete Selected"})}):null]})]})})}ut.baseURL="master/";var mt=(0,l.forwardRef)((function(e,t){var n=e.list,r=e.parentId,s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)({}),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),k=j[0],I=j[1],w=function(e){m((0,i.Z)((0,i.Z)({},f),e))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){d(!0),console.log("dt",e),m(e?{_id:e}:{parentId:r})}}}));var _=function(){I(!0),ut.save(f).then((function(e){(0,R.Br)(e.message),w((0,i.Z)({},e.data)),n(),d(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){I(!1)}))};return(0,l.useEffect)((function(){f._id&&(I(!0),ut.details(f._id).then((function(e){m(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){I(!1)})))}),[f._id]),(0,l.useEffect)((function(){c||m({_id:null})}),[c]),(0,l.useEffect)((function(){f._id||w({slug:ve.Z.removeSpecialChars(f.name||"")})}),[f.name]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:c,okText:"Save",onOk:_,okButtonProps:{disabled:k},onCancel:function(){d(!1)},destroyOnClose:!0,maskClosable:!1,width:500,className:"app-modal-body",footer:[(0,p.jsx)(g.ZP,{onClick:function(){d(!1)},children:"Cancel"},"cancel"),(0,p.jsx)(g.ZP,{type:"primary",onClick:_,children:"Save"},"save")],children:(0,p.jsx)(x.Z,{spinning:k,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Name",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Name",value:f.name,onChange:function(e){w({name:e.target.value})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Slug",required:!0,children:(0,p.jsx)(S.Z,{placeholder:"Slug",value:f.slug,onChange:function(e){w({slug:ve.Z.removeSpecialChars(e.target.value)})}})})}),(0,p.jsx)(b.Z,{span:24,children:(0,p.jsx)(v.Z.Item,{label:"Status",required:!0,children:(0,p.jsxs)(se.Z,{value:f.status,onChange:function(e){w({status:e.target.value})},children:[(0,p.jsx)(se.Z.Option,{value:!0,children:"Active"}),(0,p.jsx)(se.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),pt=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),r=(0,a.Z)(n,2),s=r[0],o=r[1],c=(0,l.useState)({}),d=(0,a.Z)(c,2),u=d[0],h=d[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h((0,i.Z)({},e))}}})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O.Z,{title:(0,p.jsxs)(p.Fragment,{children:["Data of \xa0",(0,p.jsx)("span",{style:{color:"red"},children:u.name})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body",footer:null,children:(0,p.jsx)(ht,{parentId:u._id})})})})),Zt=[{title:"Dashboard",icon:u.Z,url:"/",component:Z},{title:"Service",icon:h.Z,url:"/service",component:function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)([]),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)({page:1,limit:20,fileType:"photo"}),x=(0,a.Z)(Z,2),j=x[0],v=x[1],y=(0,l.useRef)(),b=[{title:"Icon",dataIndex:"file",width:50,render:function(e){return(0,p.jsx)(F.Z,{src:null===e||void 0===e?void 0:e.url,height:30})}},{title:"Name",dataIndex:"name"},{title:"Per Hour Rate",dataIndex:"per_hr_rate",width:120,render:function(e){return(0,p.jsxs)("b",{children:[" \u20b9 ",e," "]})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this Service?",onConfirm:function(){C(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){y.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function S(){d(!0),M.listService(j).then((function(e){var t;r(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),v((0,i.Z)((0,i.Z)({},j),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){d(!1)}))}var C=function(e){M.deleteService(e).then((function(e){(0,R.Br)(e.message),S(),m([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},k=b.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));k[0].fixed=!0,k[k.length-1].fixed="right";var I={bordered:!0,loading:c,size:"small",title:function(){return(0,p.jsx)(ie,{addNewModalRef:y,selected:f,deleteData:C,qData:j,setQData:v,list:S})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:j,setQData:v})},rowSelection:{onChange:function(e){m(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){S()}),[j.page,j.limit]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Services"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},I),{},{pagination:{position:["none"],pageSize:j.limit},columns:k,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(le,{ref:y,list:S})]})}},{title:"Job List",icon:h.Z,url:"/job-list",component:Re()},{title:"Master",icon:f.Z,url:"/master-new",children:[{title:"Brand",icon:h.Z,url:"/",component:function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)([]),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)({page:1,limit:20}),x=(0,a.Z)(Z,2),j=x[0],v=x[1],y=(0,l.useRef)(),b=[{title:"#",width:40,render:function(e,t,n){return(0,p.jsx)("b",{children:n+1})}},{title:"Name",dataIndex:"name"},{title:"Slug",dataIndex:"slug",width:100},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this User?",onConfirm:function(){C(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){y.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function S(){d(!0),at.list(j).then((function(e){var t;r(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)({key:e._id},e)})).reverse()),v((0,i.Z)((0,i.Z)({},j),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){d(!1)}))}var C=function(e){at.delete(e).then((function(e){(0,R.Br)(e.message),S(),m([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},k=b.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));k[0].fixed=!0,k[k.length-1].fixed="right";var I={bordered:!0,loading:c,size:"small",title:function(){return(0,p.jsx)(rt,{addNewModalRef:y,selected:f,deleteData:C,qData:j,setQData:v,list:S})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:j,setQData:v})},rowSelection:{onChange:function(e){m(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){S()}),[j.page,j.limit]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},I),{},{pagination:{position:["none"],pageSize:j.limit},columns:k,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(it,{ref:y,list:S})]})}},{title:"Chemicals",icon:h.Z,url:"/chemicals",component:st},{title:"Life-Science",icon:h.Z,url:"/lifescience",component:ht},{title:"Lab Instrument",icon:h.Z,url:"/",component:He},{title:"Lab Ware",icon:h.Z,url:"/lab-ware",component:$e},{title:"Gases",icon:h.Z,url:"/gases",component:Je}]},{title:"Management",icon:f.Z,url:"/management",children:[{title:"User",icon:h.Z,url:"/",component:function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)([]),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)({page:1,limit:20,fileType:"photo"}),x=(0,a.Z)(Z,2),j=x[0],v=x[1],y=(0,l.useRef)(),b=(0,l.useRef)(),S=[{title:"Username",dataIndex:"name"},{title:"Phone",dataIndex:"phone",width:100},{title:"Email",dataIndex:"email",width:200},{title:"Job",dataIndex:"_id",width:80,render:function(e,t){return(0,p.jsx)(g.ZP,{type:"primary",size:"small",onClick:function(){b.current.openForm({_id:t._id,name:t.name})},children:"Address"})}},{title:"Status",dataIndex:"status",width:80,render:function(e){return"blocked"==e?(0,p.jsx)(G.Z,{color:"red",children:"Blocked"}):"active"==e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"yellow",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this User?",onConfirm:function(){k(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){y.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function C(){d(!0),ge.listUser(j).then((function(e){var t;r(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),v((0,i.Z)((0,i.Z)({},j),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){d(!1)}))}var k=function(e){ge.deleteUser(e).then((function(e){(0,R.Br)(e.message),C(),m([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},I=S.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));I[0].fixed=!0,I[I.length-1].fixed="right";var w={bordered:!0,loading:c,size:"small",title:function(){return(0,p.jsx)(ke,{addNewModalRef:y,selected:f,deleteData:k,qData:j,setQData:v,list:C})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:j,setQData:v})},rowSelection:{onChange:function(e){m(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){C()}),[j.page,j.limit]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},w),{},{pagination:{position:["none"],pageSize:j.limit},columns:I,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Ie,{ref:y,list:C}),(0,p.jsx)(we,{ref:b})]})}},{title:"Worker",icon:h.Z,url:"/Worker",component:function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)([]),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)({page:1,limit:20}),x=(0,a.Z)(Z,2),j=x[0],v=x[1],y=(0,l.useRef)(),b=(0,l.useRef)(),S=(0,l.useRef)(),C=(0,l.useState)([]),k=(0,a.Z)(C,2),I=k[0],w=k[1],_=[{title:"Username",dataIndex:"userName"},{title:"Phone",dataIndex:"phone",width:100},{title:"Service",dataIndex:"serviceDetail",width:150,render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"Address",dataIndex:"permanentAddress",width:300},{title:"WorkList",dataIndex:"_id",width:80,render:function(e,t){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(g.ZP,{type:"primary",size:"small",onClick:function(){b.current.openForm({_id:t._id,userName:t.userName})},children:"Works"})})}},{title:"Account",dataIndex:"_id",width:80,render:function(e,t){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(g.ZP,{type:"primary",size:"small",onClick:function(){S.current.openForm({_id:t._id,userName:t.userName})},children:"Account"})})}},{title:"Rate Per Hour",dataIndex:"per_hr_rate",width:120,render:function(e){return(0,p.jsxs)("b",{children:[" \u20b9 ",e," "]})}},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,p.jsx)(G.Z,{color:"green",children:"Active"}):(0,p.jsx)(G.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this Worker?",onConfirm:function(){N(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){y.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function P(){d(!0),oe.listWorker(j).then((function(e){var t;r(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),v((0,i.Z)((0,i.Z)({},j),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){d(!1)}))}var N=function(e){oe.deleteWorker(e).then((function(e){(0,R.Br)(e.message),P(),m([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},D=_.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));D[0].fixed=!0,D[D.length-1].fixed="right";var B={bordered:!0,loading:c,size:"small",title:function(){return(0,p.jsx)(pe,{addNewModalRef:y,selected:f,deleteData:N,qData:j,setQData:v,list:P})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:j,setQData:v})},rowSelection:{onChange:function(e){m(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){P(),M.listService().then((function(e){w(e.data||[])})).catch((function(e){(0,R.Br)("Service data not loaded","error")}))}),[j.page,j.limit]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Workers"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},B),{},{pagination:{position:["none"],pageSize:j.limit},columns:D,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Ze,{ref:y,list:P,service:I}),(0,p.jsx)(xe,{ref:b}),(0,p.jsx)(je,{ref:S})]})}}]},{title:"Working History",icon:m.Z,url:"/work-history",component:he},{title:"Leave Requests",icon:m.Z,url:"/leave",component:function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)([]),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)([]),x=(0,a.Z)(Z,2),j=x[0],v=x[1],y=(0,l.useState)({page:1,limit:20,fileType:"photo"}),b=(0,a.Z)(y,2),S=b[0],C=b[1],k=(0,l.useRef)(),I=[{title:"Worker Name",dataIndex:"workerDetail"},{title:"Reason",dataIndex:"reason",width:250},{title:"Start Date",dataIndex:"startDate",width:150,render:function(e){return(0,p.jsx)("span",{children:ue()(e).format("DD MMM YYYY")})}},{title:"End Date",dataIndex:"endDate",width:150,render:function(e){return(0,p.jsx)("span",{children:ue()(e).format("DD MMM YYYY")})}},{title:"Prescription",dataIndex:"precipition",width:100,render:function(e){return(0,p.jsx)(F.Z,{src:null===e||void 0===e?void 0:e.url,height:32})}},{title:"Status",dataIndex:"isApproved",width:150,render:function(e,t){return"Approved"===t.status?(0,p.jsx)(G.Z,{color:"green",children:"Approved"}):"Rejected"===t.status?(0,p.jsx)(G.Z,{color:"red",children:"Rejected"}):(0,p.jsx)(G.Z,{color:"blue",children:"Requested"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(A.Z,{title:"Are you sure to delete this Service?",onConfirm:function(){_(t._id)},okText:"Yes",cancelText:"No",children:[(0,p.jsx)(g.ZP,{type:"primary",size:"small",danger:!0,icon:(0,p.jsx)(z.Z,{})}),"\xa0"]}),(0,p.jsx)(g.ZP,{type:"primary",size:"small",icon:(0,p.jsx)(H.Z,{}),onClick:function(){k.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function w(){d(!0),Be.list(S).then((function(e){var t;r(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),C((0,i.Z)((0,i.Z)({},S),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){d(!1)}))}var _=function(e){Be.deleteService(e).then((function(e){(0,R.Br)(e.message),w(),m([])})).catch((function(e){(0,R.Br)(e.message,"error")}))},P=I.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ellipsis:!1})}));P[0].fixed=!0,P[P.length-1].fixed="right";var N={bordered:!0,loading:c,size:"small",title:function(){return(0,p.jsx)(Te,{addNewModalRef:k,selected:f,deleteData:_,qData:S,setQData:C,list:w,workers:j})},showHeader:!0,footer:function(){return(0,p.jsx)(ee,{qData:S,setQData:C})},rowSelection:{onChange:function(e){m(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){w()}),[S.page,S.limit]),(0,l.useEffect)((function(){d(!0),oe.listWorker(S).then((function(e){var t;v(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{key:e._id})}))),C((0,i.Z)((0,i.Z)({},S),{},{isAll:1}))})).catch((function(e){})).finally((function(){d(!1)}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q.Z.Title,{level:5,style:{marginTop:0},children:"List of Leave Requests"}),(0,p.jsx)(E.Z,(0,i.Z)((0,i.Z)({},N),{},{pagination:{position:["none"],pageSize:S.limit},columns:P,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,p.jsx)(Ue,{ref:k,list:w})]})}},{title:"Settings",icon:m.Z,url:"/Setting",component:function(){var e=(0,l.useState)(!1),t=(0,a.Z)(e,2),n=(t[0],t[1],(0,l.useState)({page:1,limit:20})),r=(0,a.Z)(n,2),s=(r[0],r[1],(0,l.useState)({aspect:1})),c=(0,a.Z)(s,2),d=c[0],u=c[1],h=(0,l.useState)(!1),f=(0,a.Z)(h,2),m=f[0],Z=f[1],v=(0,l.useState)(0),y=(0,a.Z)(v,2),b=y[0],S=y[1],k=function(e,t){t&&(Object.entries(e).forEach((function(e){for(var t=d,n=e[0],a=e[1],r=n.split("."),i=0;i<r.length;i++)i+1===r.length?t[r[i]]=a:("undefined"===typeof t[r[i]]&&(1*parseInt(r[i+1])>=0?t[r[i]]=[]:t[r[i]]={}),t=t[r[i]])})),u((0,i.Z)({},d)))},I=function(){Z(!0);try{(0===b?_.save((0,i.Z)((0,i.Z)({},d),{},{type:"aboutus",data:d.data})):1===b?_.save((0,i.Z)((0,i.Z)({},d),{},{type:"termcondition",data:d.data})):2===b?_.save((0,i.Z)((0,i.Z)({},d),{},{type:"faq",data:d.data})):3===b?_.save((0,i.Z)((0,i.Z)({},d),{},{type:"contactus",data:d.data})):4===b?_.save((0,i.Z)((0,i.Z)({},d),{},{type:"privacy-policy",data:d.data})):null).then((function(e){(0,R.Br)(e.message),k((0,i.Z)({},e.data)),S((b+1)%5)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,R.Br)(t,"error")}else(0,R.Br)(e.message,"error")})).finally((function(){Z(!1)}))}catch(e){(0,R.Br)(e.message,"error")}},w=function(e){Z(!0),_.detail(e).then((function(e){u(e.data||{})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){Z(!1)}))};return(0,l.useEffect)((function(){0===b?w({_id:d._id,type:"aboutus"}):1===b?w({_id:d._id,type:"termcondition"}):2===b?w({_id:d._id,type:"faq"}):3===b?w({_id:d._id,type:"contactus"}):4===b&&w({_id:d._id,type:"privacy-policy"})}),[b]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(x.Z,{spinning:m,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:[(0,p.jsx)(j.Z,{activeKey:b,type:"card",size:"small",style:{marginBottom:0},onChange:function(e){S(e)},items:[{label:"About us",key:0,children:(0,p.jsx)(o.Z,{style:{borderTop:0},children:(0,p.jsx)(D,{data:d,handleChange:k,save:I})})},{label:"Terms & Condition",key:1,children:(0,p.jsx)(o.Z,{style:{borderTop:0},children:(0,p.jsx)(B,{data:d,handleChange:k,save:I})})},{label:"FAQ",key:2,children:(0,p.jsx)(o.Z,{style:{borderTop:0},children:(0,p.jsx)(T,{data:d,handleChange:k,save:I})})},{label:"Contact us",key:3,children:(0,p.jsx)(o.Z,{style:{borderTop:0},children:(0,p.jsx)(U,{data:d,handleChange:k,save:I})})},{label:"Privacy Policy",key:4,children:(0,p.jsx)(o.Z,{style:{borderTop:0},children:(0,p.jsx)(L,{data:d,handleChange:k,save:I})})}]}),(0,p.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",paddingTop:"5px",paddingRight:"70px"},children:(0,p.jsx)(g.ZP,{type:"primary",onClick:I,children:4===b?"Save":"Next"},"save")})]})})}},{title:"You",icon:h.Z,url:"/profile",children:[{title:"Profile",icon:h.Z,url:"/",component:function(){var e=(0,l.useState)({}),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)([]),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=(0,l.useState)(!1),h=(0,a.Z)(u,2),f=h[0],m=h[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),g=j[0],S=j[1],k=function(e,t){r((0,i.Z)((0,i.Z)({},n),{},(0,Le.Z)({},t,e)))};return(0,l.useEffect)((function(){m(!0),Oe.Z.profile().then((function(e){var t,n;r(e.data.result||{}),null!==(t=e.data.result)&&void 0!==t&&t.avatar&&d([null===(n=e.data.result)||void 0===n?void 0:n.avatar])})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){m(!1)}))}),[]),(0,l.useEffect)((function(){g&&(m(!0),Oe.Z.saveProfile(n).then((function(e){(0,R.Br)(e.message)})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){m(!1)})))}),[n]),(0,l.useEffect)((function(){k(null===c||void 0===c?void 0:c[0],"avatar")}),[c]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(x.Z,{spinning:f,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:[(0,p.jsx)(Ae.m,{title:Ee()(new Date)+", "+(null===n||void 0===n?void 0:n.name),extra:[(0,p.jsx)(Fe.Z,{checkedChildren:"Update",unCheckedChildren:"Update",checked:g,onChange:function(e){S(e)}},"do-save")]}),(0,p.jsx)(Ne.Z,{}),(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:16,children:(0,p.jsxs)(y.Z,{gutter:[12,10],children:[(0,p.jsx)(b.Z,{span:12,children:(0,p.jsxs)(v.Z.Item,{label:(0,p.jsx)(q.Z.Text,{strong:!0,type:"secondary",children:"Name"}),children:[(0,p.jsx)(q.Z.Title,{editable:{editing:g,triggerType:g?"icon":"text",onChange:function(e){k(e,"name")}},level:5,children:n.name}),(0,p.jsx)(Ne.Z,{style:{margin:0}})]})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsxs)(v.Z.Item,{label:(0,p.jsx)(q.Z.Text,{strong:!0,type:"secondary",children:"User Name"}),children:[(0,p.jsx)(q.Z.Title,{editable:{editing:g,triggerType:g?"icon":"text",onChange:function(e){k(e,"userName")}},level:5,children:n.userName}),(0,p.jsx)(Ne.Z,{style:{margin:0}})]})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsxs)(v.Z.Item,{label:(0,p.jsx)(q.Z.Text,{strong:!0,type:"secondary",children:"Email"}),children:[(0,p.jsx)(q.Z.Title,{editable:{editing:g,triggerType:g?"icon":"text",onChange:function(e){k(e,"email")}},level:5,children:n.email}),(0,p.jsx)(Ne.Z,{style:{margin:0}})]})}),(0,p.jsx)(b.Z,{span:12,children:(0,p.jsxs)(v.Z.Item,{label:(0,p.jsx)(q.Z.Text,{strong:!0,type:"secondary",children:"Phone Number"}),children:[(0,p.jsx)(q.Z.Title,{editable:{editing:g,triggerType:g?"icon":"text",onChange:function(e){k(e,"phone")}},level:5,children:n.phone}),(0,p.jsx)(Ne.Z,{style:{margin:0}})]})})]})}),(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(V,{fileList:c,setFileList:d,disabled:!g,cropImage:!0})})]})})]})})}},{title:"Change Password",icon:h.Z,url:"/change-password",component:function(){var e=(0,l.useState)({name:re.Z.name}),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(!1),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=function(e,t){r((0,i.Z)((0,i.Z)({},n),{},(0,Le.Z)({},t,e)))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(x.Z,{spinning:c,indicator:(0,p.jsx)(C.Z,{style:{fontSize:24},spin:!0}),children:[(0,p.jsx)(Ae.m,{title:Ee()(new Date)+", "+(null===n||void 0===n?void 0:n.name)}),(0,p.jsx)(Ne.Z,{}),(0,p.jsx)(v.Z,{layout:"vertical",children:(0,p.jsxs)(y.Z,{gutter:[12,2],children:[(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(v.Z.Item,{label:"Current Password",children:(0,p.jsx)(S.Z.Password,{placeholder:"Current Password",value:n.currentPassword,onChange:function(e){u(e.target.value,"currentPassword")}})})}),(0,p.jsx)(b.Z,{span:16}),(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(v.Z.Item,{label:"New Password",children:(0,p.jsx)(S.Z.Password,{placeholder:"New Password",value:n.newPassword,onChange:function(e){u(e.target.value,"newPassword")}})})}),(0,p.jsx)(b.Z,{span:16}),(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(v.Z.Item,{label:"Confirm New Password",children:(0,p.jsx)(S.Z.Password,{placeholder:"Confirm New Password",value:n.confirmNewPassword,onChange:function(e){u(e.target.value,"confirmNewPassword")}})})}),(0,p.jsx)(b.Z,{span:16}),(0,p.jsx)(b.Z,{span:8,children:(0,p.jsx)(v.Z.Item,{children:n.currentPassword&&n.newPassword&&n.confirmNewPassword?(0,p.jsx)(g.ZP,{type:"primary",style:{width:"100%"},htmlType:"submit",onClick:function(){d(!0),Oe.Z.updatePassword(n).then((function(e){(0,R.Br)(e.message),r({})})).catch((function(e){(0,R.Br)(e.message,"error")})).finally((function(){d(!1)}))},children:"Update Password"}):null})})]})})]})})}}]}].filter((function(e){var t;return!e.hidden||(null===(t=e.children)||void 0===t?void 0:t.length)})),xt=n(1087),jt=n(7962),gt=(0,r.Z)(Zt);!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(a,r){var l;null!==(l=a.children)&&void 0!==l&&l.length?(t[r]=(0,i.Z)((0,i.Z)({},t[r]),{},{key:n+a.url,icon:(0,p.jsx)(a.icon,{}),label:(0,p.jsx)(xt.rU,{className:"text-d-none",to:n+a.url,children:a.title})}),e(a.children,n+a.url)):t[r]=(0,i.Z)((0,i.Z)({},a),{},{key:n+a.url,icon:(0,p.jsx)(a.icon,{}),label:(0,p.jsx)(xt.rU,{className:"text-d-none",to:n+a.url,children:a.title})})}))}(gt),gt.push({label:"Logout",icon:(0,p.jsx)(jt.Z,{}),key:"logout",style:{color:"red"},onClick:function(){window.localStorage.clear(),window.location.reload()},component:(0,p.jsx)(p.Fragment,{})});var vt=function(){var e,t=[];return null===(e=(0,c.TH)().pathname.split("/"))||void 0===e||e.reduce((function(e,n){return t.push(e+"/"+n),e+"/"+n})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.Z,{defaultSelectedKeys:[t.pop()],defaultOpenKeys:[].concat(t),mode:"horizontal",theme:"dark",items:gt})})},yt=n(8935);function bt(){return(0,p.jsx)(yt.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,p.jsx)(xt.rU,{to:"/",children:(0,p.jsx)(g.ZP,{type:"primary",children:"Back Home"})})})}var St=[];function Ct(){var e=(0,l.useState)(!1),t=(0,a.Z)(e,2);t[0],t[1];return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(s.Z,{style:{minHeight:"100vh"},children:(0,p.jsxs)(s.Z,{className:"site-layout",children:[(0,p.jsx)(vt,{}),(0,p.jsx)(s.Z.Content,{style:{margin:"24px 40px 0 40px"},children:(0,p.jsx)(o.Z,{bordered:!0,children:(0,p.jsxs)(c.Z5,{children:[St.filter((function(e){return"logout"!==e.key})).map((function(e){return(0,p.jsx)(c.AW,{path:e.url,element:(0,p.jsx)(e.component,{})},e.url)})),(0,p.jsx)(c.AW,{path:"*",element:(0,p.jsx)(bt,{})})]})})})]})})})}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(t){t.children?e(t.children,n+t.url):St.push((0,i.Z)((0,i.Z)({},t),{},{url:n+t.url}))}))}((0,r.Z)(Zt))},9805:function(){}}]);
//# sourceMappingURL=751.4d20887b.chunk.js.map